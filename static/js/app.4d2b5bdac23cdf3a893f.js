webpackJsonp([1],{"72yP":function(t,s,e){t.exports=e.p+"static/img/slide_3.dd55df3.jpg"},CzAs:function(t,s,e){t.exports=e.p+"static/img/slide_2.138bacb.jpg"},GoU6:function(t,s,e){t.exports=e.p+"static/img/SweetHeart_web_logo.1a8a0bc.png"},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),i=e("mtWM"),r=e.n(i),o=e("DWlv"),n=e.n(o),l=e("ZZvs"),c=e.n(l),d=(e("SYh3"),e("K3J8"),e("7QTg")),u=e.n(d),h=(e("v2ns"),e("sUu7")),m=e("SjS3"),v=e.n(m),_=e("wGWZ"),p={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]};var f=e("VU/8")({name:"App"},p,!1,function(t){e("r+/z")},null,null).exports,g=e("/ocq"),C={name:"Navbar",data:()=>({products:[],product:{},cart:{}}),methods:{getProducts(){const t=this;this.$http.get("https://vue-course-api.hexschool.io/api/aloha/products").then(s=>{t.products=s.data.products,console.log(s)})},getProduct(t){const s=this,e=`https://vue-course-api.hexschool.io/api/aloha/product/${t}`;s.status.loadingItem=t,this.$http.get(e).then(t=>{s.product=t.data.product,console.log(t),s.status.loadingItem=""})},getCart(){const t=this;this.$http.get("https://vue-course-api.hexschool.io/api/aloha/cart").then(s=>{t.cart=s.data.data,console.log(s)})},removeCartItem(t){const s=this,e=`https://vue-course-api.hexschool.io/api/aloha/cart/${t}`;this.$http.delete(e).then(()=>{s.getCart()})}},created(){this.getProducts(),this.getCart()}},b={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("nav",{staticClass:"navbar navbar-light bg-light"},[a("router-link",{attrs:{to:"/homepage"}},[a("img",{attrs:{src:e("GoU6"),alt:"SweetHeart"}})]),t._v(" "),a("div",{staticClass:"nav navbar navbar-right"},[a("ul",{staticClass:"nav navbar"},[a("li",{staticClass:"member"},[a("router-link",{staticClass:"userLogin text-secondary",attrs:{to:"/login"}},[a("i",{staticClass:"fas fa-user fa-2x"}),t._v(" "),a("h2",{staticClass:"login"},[t._v("會員登入")])])],1),t._v(" "),a("li",{staticClass:"dropdown ml-auto"},[t._m(0),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("div",{staticClass:"px-4 py-3"},[a("h6",[t._v("已選擇商品")]),t._v(" "),a("table",{staticClass:"table table-sm"},[a("tbody",t._l(t.cart.carts,function(s){return t.cart.carts?a("tr",{key:s.id},[a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCartItem(s.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v("\n                    "+t._s(s.product.title)+"\n                  ")]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(s.final_total))])]):t._e()}),0),t._v(" "),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])])])]),t._v(" "),a("router-link",{staticClass:"btn btn-primary btn-block text-white",attrs:{to:"/home/customer_order"}},[a("i",{staticClass:"fas fa-shopping-bag",attrs:{"aria-hidden":"true"}}),t._v(" 結帳去\n            ")])],1)])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"btn btn-sm btn-cart",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"fas fa-shopping-cart fa-3x text-secondary"}),this._v(" "),s("span",{staticClass:"sr-only"},[this._v("unread messages")])])}]},x={components:{Navbar:e("VU/8")(C,b,!1,null,null,null).exports},created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)sweetToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t}},w={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("Navbar"),this._v(" "),s("router-view")],1)},staticRenderFns:[]},y=e("VU/8")(x,w,!1,null,null,null).exports,$={data:()=>({user:{username:"",password:""}}),methods:{signin(){const t=this;this.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(s=>{if(console.log(s.data),s.data.success){const e=s.data.token,a=s.data.expired;document.cookie=`sweetToken=${e};expires=${new Date(a)};`,t.$router.push("/admin/products")}})}}},k={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"text-center"},[a("form",{staticClass:"form-signin",on:{submit:function(s){return s.preventDefault(),t.signin(s)}}},[a("router-link",{attrs:{to:"/homepage"}},[a("img",{staticClass:"mb-3",attrs:{src:e("m8uM"),alt:"SweetHeart",width:"250",height:"100"}})]),t._v(" "),a("h1",{staticClass:"h3 mb-3 font-weight-normal text-secondary"},[t._v("Please sign in")]),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(s){s.target.composing||t.$set(t.user,"username",s.target.value)}}}),t._v(" "),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}}),t._v(" "),t._m(0),t._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block text-white",attrs:{type:"submit"}},[t._v("Sign in")]),t._v(" "),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 僅供練習 無任何商業用途")])],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"checkbox mb-3 text-left"},[s("label",[s("input",{attrs:{type:"checkbox",value:"remember-me"}}),this._v(" Remember me\n        ")])])}]};var E=e("VU/8")($,k,!1,function(t){e("sKwZ")},"data-v-3154fd5c",null).exports,S={name:"swiper-example-pagination-dynamic",title:"Pagination / Dynamic bullets",components:{Swiper:d.Swiper,SwiperSlide:d.SwiperSlide},data:()=>({swiperOption:{speed:2400,loop:!0,autoplay:{delay:2e3},pagination:".swiper-pagination",pagination:{el:".swiper-pagination",dynamicBullets:!0}}})},P={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"swiper-container"},[s("swiper",{staticClass:"swiper",attrs:{options:this.swiperOption}},[s("swiper-slide",[s("img",{attrs:{src:e("kr7J"),alt:"slide1"}})]),this._v(" "),s("swiper-slide",[s("img",{attrs:{src:e("CzAs"),alt:"slide2"}})]),this._v(" "),s("swiper-slide",[s("img",{attrs:{src:e("72yP"),alt:"slide3"}})]),this._v(" "),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1)},staticRenderFns:[]},I={components:{slideSwiper:e("VU/8")(S,P,!1,null,null,null).exports}},L={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("slideSwiper"),t._v(" "),e("div",{staticClass:"contact"},[e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"row clearfix"},[e("div",{staticClass:"col-6 col-md-3 mb-5 bordered"},[e("router-link",{staticClass:"text-accent",attrs:{to:"/home/products_list"}},[e("div",{staticClass:"contact-method"},[e("i",{staticClass:"fas fa-store fa-2x mb-2"}),t._v(" "),e("h4",[t._v("來購物吧")]),t._v(" "),e("h6",[t._v("商品瀏覽")])])])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])])]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-6 col-md-3 mb-5 bordered"},[s("a",{staticClass:"text-info",attrs:{href:"https://line.me/zh-hant/",target:"_blank"}},[s("div",{staticClass:"contact-method "},[s("i",{staticClass:"fab fa-line fa-2x mb-2"}),this._v(" "),s("h4",[this._v("加入 Line 好友")]),this._v(" "),s("h6",[this._v("專人客服專線")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-6 col-md-3 mb-5 bordered"},[s("a",{staticClass:"text-info",attrs:{href:"https://www.facebook.com/",target:"_blank"}},[s("div",{staticClass:"contact-method"},[s("i",{staticClass:"fab fa-facebook fa-2x mb-2"}),this._v(" "),s("h4",[this._v("Facebook")]),this._v(" "),s("h6",[this._v("即時商品訊息")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-6 col-md-3 bordered"},[s("a",{staticClass:"text-info",attrs:{href:"https://www.instagram.com/?hl=zh-tw",target:"_blank"}},[s("div",{staticClass:"contact-method"},[s("i",{staticClass:"fab fa-instagram fa-2x mb-2"}),this._v(" "),s("h4",[this._v("關注 instagram")]),this._v(" "),s("h6",[this._v("提供最新資訊")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"event"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",{staticClass:"title text-dark",attrs:{"data-aos":"fade-right"}},[this._v("30% Discount")]),this._v(" "),s("h3",{staticClass:"subtitoe text-dark",attrs:{"data-aos":"fade-right"}},[this._v("for this winter only")]),this._v(" "),s("a",{staticClass:"button bordered text-white",attrs:{href:"#"}},[this._v("COUPON")])])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"map"},[e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6 mb-5 info",attrs:{"data-aos":"fade-right"}},[e("h3",{staticClass:"text-primary"},[t._v("店舖位置")]),t._v(" "),e("ul",[e("li",[e("label",[t._v("地址：")]),t._v("台北市中正區北平西路100號")]),t._v(" "),e("li",[e("label",[t._v("電話：")]),e("a",{attrs:{href:"tel:0912-345-678"}},[t._v("0912-345678")])]),t._v(" "),e("li",[e("label",[t._v("Email：")]),e("a",{attrs:{href:"mailto:testmail@yourdomain.com"}},[t._v("testmail@yourdomain.com")])])])]),t._v(" "),e("div",{staticClass:"col-12 col-md-6"},[e("div",{staticClass:"iframe-rwd",attrs:{"data-aos":"fade-left"}},[e("iframe",{staticStyle:{border:"0"},attrs:{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.6028701990767!2d121.51411566498817!3d25.047547893902305!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a9727e339109%3A0xc34a31ce3a4abecb!2z6Ie65YyX6LuK56uZ!5e0!3m2!1szh-TW!2stw!4v1606381192492!5m2!1szh-TW!2stw",width:"600",height:"450",frameborder:"0",allowfullscreen:"","aria-hidden":"false",tabindex:"0"}})])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("footer",{staticClass:"bg-light text-muted py-5 mt-5"},[s("ul",{staticClass:"list-inline text-center"},[s("li",{staticClass:"list-inline-item"},[this._v("© 僅供練習 無任何商業用途")]),this._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"text-info",attrs:{href:"https://line.me/zh-hant/",target:"_blank"}},[s("i",{staticClass:"fab fa-line fa-2x",attrs:{"aria-hidden":"true"}})])]),this._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"text-info",attrs:{href:"https://www.facebook.com/",target:"_blank"}},[s("i",{staticClass:"fab fa-facebook-square fa-2x",attrs:{"aria-hidden":"true"}})])]),this._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"text-info",attrs:{href:"https://www.instagram.com/?hl=zh-tw",target:"_blank"}},[s("i",{staticClass:"fab fa-instagram-square fa-2x",attrs:{"aria-hidden":"true"}})])])])])}]},z=e("VU/8")(I,L,!1,null,null,null).exports,j=e("7t+N"),O=e.n(j),q={data:()=>({products:[],product:{},status:{loadingItem:""},filter:{list:["全部商品","蛋糕","麵包","餅乾"],str:"全部商品"},cart:{},isActive:!1,iconDisplay:!1}),methods:{getProducts(){const t=this;this.$http.get("https://vue-course-api.hexschool.io/api/aloha/products").then(s=>{if("全部商品"!==t.filter.str){let e=s.data.products.filter(function(s){return s.category==t.filter.str});t.products=e}else t.products=s.data.products,console.log(s)})},getProduct(t){const s=this,e=`https://vue-course-api.hexschool.io/api/aloha/product/${t}`;s.status.loadingItem=t,this.$http.get(e).then(t=>{s.product=t.data.product,console.log(t),s.status.loadingItem=""})},changeCategory(t){this.filter.str=t,this.getProducts()},addtoCart(t,s=1){const e=this;e.status.loadingItem=t,e.iconDisplay=!0,setTimeout(()=>{e.iconDisplay=!1},800);const a={product_id:t,qty:s};this.$http.post("https://vue-course-api.hexschool.io/api/aloha/cart",{data:a}).then(t=>{console.log(t),e.status.loadingItem="",e.getCart()})},getCart(){const t=this;this.$http.get("https://vue-course-api.hexschool.io/api/aloha/cart").then(s=>{t.cart=s.data.data})},removeCartItem(t){const s=this,e=`https://vue-course-api.hexschool.io/api/aloha/cart/${t}`;this.$http.delete(e).then(()=>{s.getCart()})}},created(){this.getProducts(),this.getCart()}},U={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"list-group sticky-top"},[e("ul",t._l(t.filter.list,function(s,a){return e("li",{key:a},[e("a",{staticClass:"list-group-item list-group-item-action text-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changeCategory(s)}}},[t._v(t._s(s))])])}),0)])]),t._v(" "),e("div",{staticClass:"col-md-9"},[t._m(1),t._v(" "),e("div",{staticClass:"product-content"},[e("div",{staticClass:"row"},t._l(t.products,function(s){return e("div",{key:s.id,staticClass:"col-12 col-sm-6 col-md-4 mb-4"},[e("div",{staticClass:"card box-shadow border-0 text-center h-100"},[e("img",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+s.imageUrl+")"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary text-light float-right ml-2"},[t._v(t._s(s.category))]),t._v(" "),e("h5",{staticClass:"card-title"},[e("span",{staticClass:"text-info l-2"},[t._v(t._s(s.title))])]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(s.content))]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[s.price?e("del",{staticClass:"h6"},[t._v(t._s(t._f("currency")(s.origin_price)))]):t._e(),t._v(" "),s.price?e("div",{staticClass:"h5 text-danger"},[t._v(t._s(t._f("currency")(s.price)))]):t._e()])]),t._v(" "),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(s.id)}}},[t.status.loadingItem===t.product.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                                        加到購物車\n                                    ")])])])])}),0)]),t._v(" "),e("div",{staticClass:"icon-container sti",class:{showing:t.iconDisplay}},[e("svg",{staticClass:"icon",attrs:{viewBox:"0 0 100 100",width:"80",height:"80"}},[e("circle",{staticClass:"circle",attrs:{cx:"50",cy:"50",r:"48"}}),t._v(" "),e("polyline",{staticClass:"check",attrs:{points:"28,53 42,66 74,34"}})]),t._v(" "),e("p",[t._v("已加入購物車")])])])])]),t._v(" "),t._m(2)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"jumbotron jumbotron-fluid jumbotron-bg d-flex align-items-end"},[s("div",{staticClass:"container"},[s("div",{staticClass:"bg-lighter",attrs:{"data-aos":"flip-right"}},[s("h1",{staticClass:"display-4"},[this._v("Stressed is just desserts if you can reverse.")]),this._v(" "),s("p",{staticClass:"lead"},[this._v("This is a modified jumbotron that occupies the entire horizontal space of its\n                    parent.\n                ")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("form",{staticClass:"form-inline searchbar mb-3"},[s("input",{staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"}}),this._v(" "),s("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[this._v("Search")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("footer",{staticClass:"bg-light text-muted py-5"},[s("ul",{staticClass:"list-inline text-center"},[s("li",{staticClass:"list-inline-item"},[this._v("© 僅供練習 無任何商業用途")]),this._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"text-info",attrs:{href:"https://line.me/zh-hant/",target:"_blank"}},[s("i",{staticClass:"fab fa-line fa-2x",attrs:{"aria-hidden":"true"}})])]),this._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"text-info",attrs:{href:"https://www.facebook.com/",target:"_blank"}},[s("i",{staticClass:"fab fa-facebook-square fa-2x",attrs:{"aria-hidden":"true"}})])]),this._v(" "),s("li",{staticClass:"list-inline-item"},[s("a",{staticClass:"text-info",attrs:{href:"https://www.instagram.com/?hl=zh-tw",target:"_blank"}},[s("i",{staticClass:"fab fa-instagram-square fa-2x",attrs:{"aria-hidden":"true"}})])])])])}]},N=e("VU/8")(q,U,!1,null,null,null).exports,D={data:()=>({products:[],product:{},status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:""},message:""},cart:{},isLoading:!1,coupon_code:""}),methods:{getProducts(){const t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/aloha/products").then(s=>{t.products=s.data.products,console.log(s),t.isLoading=!1})},getProduct(t){const s=this,e=`https://vue-course-api.hexschool.io/api/aloha/product/${t}`;s.status.loadingItem=t,this.$http.get(e).then(t=>{s.product=t.data.product,O()("#productModal").modal("show"),console.log(t),s.status.loadingItem=""})},getCart(){const t=this;t.isLoading=!0,this.$http.get("https://vue-course-api.hexschool.io/api/aloha/cart").then(s=>{t.cart=s.data.data,console.log(s),t.isLoading=!1})},removeCartItem(t){const s=this,e=`https://vue-course-api.hexschool.io/api/aloha/cart/${t}`;s.isLoading=!0,this.$http.delete(e).then(()=>{s.getCart(),s.isLoading=!1})},createOrder(){const t=this,s=t.form;t.isLoading=!0,this.$http.post("https://vue-course-api.hexschool.io/api/aloha/order",{data:s}).then(s=>{s&&(console.log("訂單已建立",s),s.data.success&&t.$router.push(`/home/customer_checkout/${s.data.orderId}`)),t.isLoading=!1})}},created(){this.getProducts(),this.getCart()}},V={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("div",{staticClass:"row justify-content-center mt-5"},[e("div",{staticClass:"col-md-8 m-3"},[e("table",{staticClass:"table table-sm"},[t._m(0),t._v(" "),e("tbody",t._l(t.cart.carts,function(s){return t.cart.carts?e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCartItem(s.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"align-middle"},[e("img",{staticClass:"img-fluid",attrs:{src:s.product.imageUrl,alt:"product"}})]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v("\n                                "+t._s(s.product.title)+"\n             \n                            ")]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(s.final_total)))])]):t._e()}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])])])]),t._v(" "),e("div",{staticClass:"my-5 justify-content-center"},[e("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(s){var a=s.invalid;return[e("form",{on:{submit:function(s){return s.preventDefault(),t.createOrder(s)}}},[e("h3",{staticClass:"bg-light text-center py-3 mt-5"},[t._v("訂購人資訊")]),t._v(" "),e("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,i=s.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:i,attrs:{id:"email",type:"email",name:"Email",placeholder:"請輸入電子郵件信箱"},domProps:{value:t.form.user.email},on:{input:function(s){s.target.composing||t.$set(t.form.user,"email",s.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),t._v(" "),e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,i=s.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:i,attrs:{id:"username",type:"text",name:"姓名",placeholder:"請輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(s){s.target.composing||t.$set(t.form.user,"name",s.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),t._v(" "),e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,i=s.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人聯絡電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:i,attrs:{id:"usertel",type:"tel",name:"聯絡電話",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(s){s.target.composing||t.$set(t.form.user,"tel",s.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),t._v(" "),e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,i=s.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:i,attrs:{id:"useraddress",type:"text",name:"收件人地址",placeholder:"請輸入收件地址"},domProps:{value:t.form.user.address},on:{input:function(s){s.target.composing||t.$set(t.form.user,"address",s.target.value)}}}),t._v(" "),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(a[0]))])])]}}],null,!0)}),t._v(" "),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[e("router-link",{staticClass:"text-white",attrs:{to:"/home/products_list"}},[t._v("繼續選購")])],1),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{disabled:a}},[t._v("送出訂單")])])],1)]}}])})],1)])])],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{attrs:{width:"30"}}),t._v(" "),e("th",{attrs:{width:"100"}},[t._v("商品預覽")]),t._v(" "),e("th",[t._v("商品名稱")]),t._v(" "),e("th",{attrs:{width:"100"}},[t._v("數量")]),t._v(" "),e("th",{attrs:{width:"80"}},[t._v("小計")])])])}]},F=e("VU/8")(D,V,!1,null,null,null).exports,R={data:()=>({order:{user:{}},orderId:""}),methods:{getOrder(){const t=this,s=`https://vue-course-api.hexschool.io/api/aloha/order/${t.orderId}`;t.isLoading=!0,this.$http.get(s).then(s=>{t.order=s.data.order,console.log(s),t.isLoading=!1})},payOrder(){const t=this,s=`https://vue-course-api.hexschool.io/api/aloha/pay/${t.orderId}`;t.isLoading=!0,this.$http.post(s).then(s=>{console.log(s),s.data.success&&t.getOrder(),t.isLoading=!1})}},created(){this.orderId=this.$route.params.orderId,this.getOrder(),console.log(this.orderId)}},T={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(s){return s.preventDefault(),t.payOrder(s)}}},[e("h2",{staticClass:"alert alert-warning alert-rounded text-center mb-5",attrs:{role:"alert"}},[t._v("\n        恬心烘焙 訂單確認\n    ")]),t._v(" "),e("table",{staticClass:"table"},[t._m(0),t._v(" "),e("tbody",t._l(t.order.products,function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[e("img",{staticClass:"img-fluid",attrs:{src:s.product.imageUrl,alt:"product"}})]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(s.final_total)))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),t._v(" "),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",[t._v("收件人電話")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?e("div",{staticClass:"text-right mb-3"},[t._m(1)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("th",{attrs:{width:"100"}},[this._v("商品預覽")]),this._v(" "),s("th",[this._v("商品名稱")]),this._v(" "),s("th",{attrs:{width:"100"}},[this._v("數量")]),this._v(" "),s("th",{attrs:{width:"80"}},[this._v("小計")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"btn btn-danger"},[s("i",{staticClass:"far fa-credit-card"}),this._v(" 確認付款")])}]},A=e("VU/8")(R,T,!1,null,null,null).exports;a.default.use(g.a);var H=new g.a({routes:[{path:"*",redirect:"homepage"},{path:"/home",name:"Home",component:y,children:[{path:"/homepage",name:"Homepage",component:z},{path:"products_list",name:"Products_List",component:N},{path:"customer_order",name:"CustomerOrder",component:F},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:A}]},{path:"/login",name:"Login",component:E}]});a.default.prototype.$bus=new a.default;a.default.use(u.a),Object(h.e)("zh_TW",v.a),r.a.defaults.withCredentials=!0,a.default.config.productionTip=!1,a.default.use(n.a,r.a),Object.keys(_).forEach(t=>{Object(h.d)(t,_[t])}),a.default.component("ValidationObserver",h.a),a.default.component("ValidationProvider",h.b),Object(h.c)({classes:{valid:"is-valid",invalid:"is-invalid"}}),a.default.component("ValidationProvider",h.b),a.default.component("Loading",c.a),a.default.filter("currency",function(t){return`$${Number(t).toFixed(0).replace(/./g,function(t,s,e){return s&&"."!==t&&(e.length-s)%3==0?`, ${t}`.replace(/\s/g,""):t})}`}),new a.default({el:"#app",router:H,components:{App:f},template:"<App/>"}),H.beforeEach((t,s,e)=>{if(console.log("to",t,"from",s,"next",e),t.meta.requiresAuth){const t="https://vue-course-api.hexschool.io/api/user/check";r.a.post(t).then(t=>{console.log(t.data),t.data.success?e():e({path:"/login"})})}else e()})},SYh3:function(t,s){},SjS3:function(t,s){t.exports={code:"zh_TW",messages:{alpha:"{_field_} 須以英文組成",alpha_dash:"{_field_} 須以英數、斜線及底線組成",alpha_num:"{_field_} 須以英數組成",alpha_spaces:"{_field_} 須以英文及空格組成",between:"{_field_} 須介於 {min} 至 {max}之間",confirmed:" {_field_} 不一致",digits:"{_field_} 須為 {length} 位數字",dimensions:"{_field_} 圖片尺寸不正確。須為 {width} x {height} 像素",email:"{_field_} 須為有效的電子信箱",excluded:"{_field_} 的選項無效",ext:"{_field_} 須為有效的檔案",image:"{_field_} 須為圖片",oneOf:"{_field_} 的選項無效",integer:"{_field_} 須為整數",length:"{_field_} 的長度須為 {length}",max:"{_field_} 不能大於 {length} 個字元",max_value:"{_field_} 不得大於 {max}",mimes:"{_field_} 須為有效的檔案類型",min:"{_field_} 不能小於 {length} 個字元",min_value:"{_field_} 不得小於 {min}",numeric:"{_field_} 須為數字",regex:"{_field_} 的格式錯誤",required:"{_field_} 為必填",required_if:"{_field_} 為必填",size:"{_field_} 的檔案須小於 {size}KB",double:"{_field_}字段必須為有效的小數"}}},kr7J:function(t,s,e){t.exports=e.p+"static/img/slide_1.04109c7.jpg"},m8uM:function(t,s,e){t.exports=e.p+"static/img/SweetHeart_logo.49c8290.svg"},"r+/z":function(t,s){},sKwZ:function(t,s){},v2ns:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.4d2b5bdac23cdf3a893f.js.map